---
author: Coen D. Needell
title: Pointlessly Investigating the NY Times' and Fox News' Web Infrastructure
abstract: "Using Open Source Intelligence tools, we can probe the News Media's web infrastructure. This information is pointless arcana, and is of use to no one, but it satisfys some intellectual curiosity. From observing how these organizations run their shops, perhaps we can speculate on their internal engineering cultures and technology strategies."

date: 2023-01-21
draft: true
---

## Introduction

It's no secret that the New York Times has been investing heavily in their technological strategy. 
Taking a look at their [job boards](https://nytimes.wd5.myworkdayjobs.com/NYT) as I'm writing this I see 50 job openings for "tech" jobs, (Technology + Data and Insights + Product and Design + Product Research and Reporting) and only 24 journalism jobs.
The NYTimes operates a [Medium blog](https://open.nytimes.com/) where they post "Dev Diaries" that give vague explanations of what they're up to.
In 2018 the NYTimes changed their web page from a "static" model, where every computer that connects will be served the same content to a "dynamic" model, where content is generated by a server whenever a computer connects to it, this website, by comparison is static, there are html, javascript, CSS, and asset files that are stored on a server, and the server just sends you them when you connect.
This is all to show that the New York Times is run in a technologically sophisticated way.

{{< figure src="/post/nytfox_infra/nytjobs.png" caption="NYTimes Jobs Board, focus on the 'Job Group' dropdown.">}}

Fox News' job board does not easily provide this information so there's not a direct comparison. 
I noticed that the NYTimes is using Workday as their job board system, but they stylized it heavily to match the rest of their sites.
Fox News on the other hand seems to have a home-brewed job board.
A friend of mine [Adarsh Mathew](https://www.linkedin.com/in/adarsh-mathew/) told me that while investigating the right wing media he noticed that their infrastructure was often leaner, more standardized, and trended toward protocols over products, whereas the mainstream and left-leaning media tended to favor building systems out of third party providers.
This observation seems to match up with Adarsh's account, Fox News has a lean, home-brewed job board, and the NYTimes bought a more featureful system from a third party.

We've observed the NYTimes using D3.js for many of their data visualizations.
For example, consider their [Market Overview](https://www.nytimes.com/section/markets-overview) page.
We see a slick, highly developed chart.

{{< figure src="/post/nytfox_infra/nytmkt.png" >}}

Compare to [Fox's](https://foxbusinessp.factsetdigitalsolutions.com/markets/marketView). 

{{< figure src="/post/nytfox_infra/foxmkt.png" >}}

This page is served as an iframe throughout the site.
The URL is kinda weird, so I ran it through `nslookup`.


```bash
>>> nslookup foxbusinessp.factsetdigitalsolutions.com
```

```
Non-authoritative answer:
foxbusinessp.factsetdigitalsolutions.com	canonical name = foxbusinessp.inet.factsetdigitalsolutions.com.
Name:	foxbusinessp.inet.factsetdigitalsolutions.com
Address: 164.55.252.50
```

That address belongs to FactSet research systems according to [Shodan](https://www.shodan.io/host/164.55.252.50).
Also that's the third level domain name in the hostname.
So we can infer that Fox News pays this company for their charts and then links to it.
This doesn't really fit into our archetype theory perfectly, but it is a quick, easy solution compared to the NYTimes doing fairly intensive development to get their market overview.

## Ownership

First lets look at the NYTimes.
```bash
nslookup nytimes.com
```

```
Non-authoritative answer:
Name:	nytimes.com
Address: 151.101.129.164
Name:	nytimes.com
Address: 151.101.1.164
Name:	nytimes.com
Address: 151.101.65.164
Name:	nytimes.com
Address: 151.101.193.164
```

This gives us a couple ip addresses to examine.
Plugging them into shodan we see that they're all based out of LA and are registered to Fastly Inc, a cloud computing network that focuses on content delivery systems.

{{< figure src="/post/nytfox_infra/fastly_feathers.png" caption="Fastly even lists NYTimes as a client they want to brag about.">}}

We can also ask Shodan to generate a report on all services that contain "nytimes.com" in their hostnames. 

{{< figure src="/post/nytfox_infra/nythost.png" >}}

450 services. Maybe we should be doing this in the cli.

```bash
shodan download --limit 500 nythosts hostname:"nytimes.com"
shodan download --limit 2500 foxhosts hostname:"foxnews.com"
gunzip *.json.gz
```

```
Search query:			hostname:nytimes.com
Total number of results:	447
Query credits left:		98
Output file:			nythosts.json.gz
  [####################################]  100%


Search query:			hostname:foxnews.com
Total number of results:	2376
Query credits left:		90
Output file:			foxhosts.json.gz
  [####################################]  100%
```

These JSONs are massive. 

```bash
du -sh *.json
```

```
46M	foxhosts.json
6.5M	nythosts.json
```

I mean, not "big data" massive but still quite large for only about 3000 data points.
A quick look in `jless` gives us an idea of what we're dealing with.

{{< figure src="/post/nytfox_infra/shodan-json.png" >}}

Let's start with a quick look at where these servers are located.

```python
#!/usr/bin/env python
import os

import polars as pl
import matplotlib.pyplot as plt
import json

nythosts = []
for line in open("./data/nythosts.json", "r"):
    nythosts.append(json.loads(line))
nythosts = list(filter(lambda j: 'http' in j, nythosts))


foxhosts = []
for line in open("./data/foxhosts.json", "r"):
    foxhosts.append(json.loads(line))
foxhosts = list(filter(lambda j: 'http' in j, foxhosts))

nytaddr = list(map(lambda j: j['http']['host'], nythosts))
foxaddr = list(map(lambda j: j['http']['host'], foxhosts))
nytnames = list(map(lambda j: j['http']['host'], nythosts))
foxnames = list(map(lambda j: j['http']['host'], foxhosts))

nytcities = map(lambda j: j['location']['city'], nythosts)
foxcities = map(lambda j: j['location']['city'], foxhosts)
nytlats = map(lambda j: j['location']['latitude'], nythosts)
foxlats = map(lambda j: j['location']['latitude'], foxhosts)
nytlongs = map(lambda j: j['location']['longitude'], nythosts)
foxlongs = map(lambda j: j['location']['longitude'], foxhosts)

foxlocs = pl.DataFrame({"host": foxaddr,
	 "city": foxcities,
	 "latitude": foxlats,
	 "longitude": foxlongs
     })
nytlocs = pl.DataFrame({"host": nytaddr,
	 "city": nytcities,
	 "latitude": nytlats,
	 "longitude": nytlongs
     })
print("foxlocs:")
print(foxlocs)

print("nytlocs:")
print(nytlocs)
```

{{< figure src="/post/nytfox_infra/loctabs.png" >}}
